{"version":3,"sources":["majordata.csv","Components/Barchart.js","Components/Tooltip.js","Components/CollegeChart.js","Components/StudentClass.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Barchart","data","size","handleTool","handleToolOff","handleClickMajor","ref","useRef","useEffect","d3","current","attr","draw","svg","studentsByMajor","key","d","MajorName","rollup","v","total","TotalStudents","freshmen","Freshman","sophomore","Sophomore","junior","Junior","senior","Senior","grad","TotalGrad","entries","dataMax","Math","max","apply","map","o","value","selection","append","selectAll","yScale","scaleLinear","domain","range","xScale","colorScale","length","interpolate","barWidth","enter","style","i","parseInt","on","exit","remove","call","left","text","className","Tooltip","hoveredBar","x","y","styles","top","position","fontSize","border","background","width","name","Array","isArray","CollegeChart","props","handleClickCollege","StudentClass","Object","keys","App","state","dataByCollege","collegeTotals","page","home","major","getData","bind","this","then","index","begin","nextState1","nextState2","Concentration","push","slice","setState","catch","err","datum","title","onClick","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.4c9e91fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/majordata.3af28ac9.csv\";","import React, { useRef, useEffect} from 'react';\nimport {scaleLinear} from 'd3-scale';\nimport '../Barchart.css';\nimport * as d3 from \"d3\";\n\nfunction Barchart({data, size, handleTool, handleToolOff, handleClickMajor}){\n    const ref = useRef();\n    // console.log(data)\n\n    useEffect(() => {\n        const svg = d3.select(ref.current)\n            .attr(\"width\", size[0])\n            .attr(\"height\", size[1])\n    }, []);\n\n    useEffect(() => {\n        draw();\n    }, [data]);\n\n    const draw = () => {\n\n            const svg = d3.select(ref.current);\n            // console.log(dataMax)\n            const margin = 125;\n            const marginTop = 50;\n            svg.attr(\"width\", size[0] + 2*margin)\n                .attr(\"height\", size[1] + 2*margin)\n            \n            // let studentsByMajor = d3.nest()\n            //     .key(function(d) { return d.MajorName; })\n            //     .rollup(function(v) { return d3.sum(v, function(d) { return d.TotalStudents; }); })\n            //     .entries(data);\n            let studentsByMajor = d3.nest()\n                .key(function(d) { return d.MajorName; })\n                .rollup(function(v) { return {\n                    total: d3.sum(v, function(d) { return d.TotalStudents; }),\n                    freshmen: d3.sum(v, function(d) { return d.Freshman; }),\n                    sophomore: d3.sum(v, function(d) { return d.Sophomore; }),\n                    junior: d3.sum(v, function(d) { return d.Junior; }),\n                    senior: d3.sum(v, function(d) { return d.Senior; }),\n                    grad: d3.sum(v, function(d) { return d.TotalGrad; })\n                }; })\n                .entries(data);\n            // console.log(studentsByMajor);\n            const dataMax = Math.max.apply(Math, studentsByMajor.map(function(o) { return o.value.total; }))\n            \n            let selection = svg.append(\"g\")\n                .attr(\"transform\", \"translate(\"+margin+\",\"+marginTop+\")\")\n                .selectAll(\"rect\").data(studentsByMajor);\n            const yScale = scaleLinear()\n                .domain([0, dataMax])\n                .range([size[1], 0])\n            const xScale = d3.scaleBand()\n                .domain(d=>d.key)\n                .range([0,size[0]])\n            xScale.domain(studentsByMajor.map((d) => { return d.key; }));\n            var colorScale = scaleLinear()\n                .domain([0, studentsByMajor.length])\n                .range([\"#0455A4\",\"#E84A27\"])\n                .interpolate(d3.interpolateHcl);\n            const barWidth = size[0]/studentsByMajor.length;\n\n            selection\n                .enter()\n                .append(\"rect\")\n                .style(\"fill\", (d, i) => {\n                    return colorScale(i);\n                }) \n                .attr('x', (d, i) => i * barWidth)\n                .attr('y', (d) => yScale(parseInt(d.value.total, 10)))\n                .attr('height', d => size[1] - yScale(parseInt(d.value.total, 10)))\n                .attr('width', barWidth )\n                .on(\"mouseover\", (d, i) => {\n                    // console.log(d3.event);\n                    handleTool(d, i * barWidth, yScale(parseInt(d.value.total, 10)));\n                })\n                .on('mouseout', () => {\n                    handleToolOff();\n                })\n                .on('click', (d) => {\n                    handleClickMajor(d)\n                })\n                .exit()\n                .remove()\n\n\n            svg\n                .append(\"g\")\n                .attr(\"transform\", \"translate(\"+margin+\",\"+marginTop+\")\")\n                .call(d3.axisLeft(yScale))\n            \n            svg.append(\"text\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"y\", 0 - margin.left)\n                .attr(\"x\",0 - (size[1] / 2))\n                .attr(\"dy\", \"1em\")\n                .style(\"text-anchor\", \"middle\")\n                .text(\"Students\")\n                .style(\"font-size\", \"1.5em\");   \n\n            svg.append(\"text\")\n                .attr(\"transform\",\n                \"translate(\" + (size[0]/2 + margin)+\",\"+(marginTop-30)+\")\")\n                .style(\"text-anchor\", \"middle\")\n                .text(\"Major\")\n                .style(\"font-size\", \"1.5em\")\n\n            svg\n                .append(\"g\")\n                .attr(\"transform\", \"translate(\"+margin+\", \"+(size[1]+marginTop)+\")\")\n                .call(d3.axisBottom(xScale))\n                .selectAll(\"text\")\t\n                .style(\"text-anchor\", \"end\")\n                .attr(\"dx\", \"-.8em\")\n                .attr(\"dy\", \".15em\")\n                .attr(\"transform\", \"rotate(-65)\");\n\n            selection\n                .exit()\n                .remove()\n\n    }\n\n    return(\n        <div className=\"chart\">\n            <svg ref={ref}>\n            </svg>\n        </div>\n    )\n}\n\nexport default Barchart\n\n\n\n\n","import React from 'react';\n\nexport default function Tooltip({hoveredBar, x, y}) {\n    const styles = {\n      left: `${x+150}px`,\n      top: `${y + 40}px`,\n      position: 'absolute',\n      fontSize: '12px',\n      border: '1px solid #6F257F',\n      background: '#ffffff',\n      width: '10%'\n    }\n    // console.log(hoveredBar)\n    let name = hoveredBar.key ? hoveredBar.key : hoveredBar.MajorName;\n    let value = hoveredBar.value ? hoveredBar.value.total : hoveredBar.TotalStudents;\n    if(Array.isArray(hoveredBar)){\n      name = hoveredBar[0]\n      value = hoveredBar[1]\n    }\n\n    return (\n      <div className=\"Tooltip\" style={styles}>\n            <p>{name}</p>\n            <p>Students: {value}</p>\n      </div>\n    )\n  }","import React, { useRef, useEffect} from 'react';\nimport * as d3 from \"d3\";\nimport {scaleLinear} from 'd3-scale';\n\n\nexport default function CollegeChart(props){\n    const ref = useRef();\n\n    useEffect(() => {\n        const svg = d3.select(ref.current)\n            .attr(\"width\", props.size[0])\n            .attr(\"height\", props.size[1])\n    }, []);\n\n    useEffect(() => {\n        draw();\n    }, [props.data]);\n\n    const draw = () => {\n\n        const svg = d3.select(ref.current);\n        const size = props.size;\n        const margin = 125;\n        const marginTop = 50;\n        svg.attr(\"width\", size[0] + 2*margin)\n            .attr(\"height\", size[1] + 2*margin)\n        \n        // console.log(studentsByMajor);\n        const dataMax = Math.max.apply(Math, props.data.map(function(o) { return o.TotalStudents; }))\n        \n        let selection = svg.append(\"g\")\n            .attr(\"transform\", \"translate(\"+margin+\",\"+marginTop+\")\")\n            .selectAll(\"rect\").data(props.data);\n        const yScale = scaleLinear()\n            .domain([0, dataMax])\n            .range([size[1], 0])\n        const xScale = d3.scaleBand()\n            .domain(d=>d.key)\n            .range([0,size[0]])\n        xScale.domain(props.data.map((d) => { return d.MajorName; }));\n        var colorScale = scaleLinear()\n            .domain([0, props.data.length])\n            .range([\"#13294b\",\"#E84A27\"])\n            .interpolate(d3.interpolateHcl);\n        const barWidth = size[0]/props.data.length;\n\n        selection\n            .enter()\n            .append(\"rect\")\n            .style(\"fill\", (d, i) => {\n                return colorScale(i);\n            })\n            .style('cursor', 'pointer') \n            .attr('x', (d, i) => i * barWidth)\n            .attr('y', (d) => yScale(parseInt(d.TotalStudents, 10)))\n            .attr('height', d => size[1] - yScale(parseInt(d.TotalStudents, 10)))\n            .attr('width', barWidth )\n            .on(\"mouseover\", (d, i) => {\n                // console.log(d3.event);\n                props.handleTool(d, i * barWidth, yScale(parseInt(d.TotalStudents, 10)));\n            })\n            .on('mouseout', () => {\n                props.handleToolOff();\n            })\n            .on('click', (d, i) => {\n                props.handleToolOff();\n                props.handleClickCollege(i);\n            })\n            .exit()\n            .remove()\n        \n        svg\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\"+margin+\",\"+marginTop+\")\")\n            .call(d3.axisLeft(yScale))\n        \n        svg.append(\"text\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", 0 + margin/4)\n            .attr(\"x\",0 - (size[1] / 2))\n            .attr(\"dy\", \"1em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(\"Students\")\n            .style(\"font-size\", \"1.5em\");   \n\n        svg.append(\"text\")\n            .attr(\"transform\",\n            \"translate(\" + (size[0]/2 + margin)+\",\"+(marginTop-30)+\")\")\n            .style(\"text-anchor\", \"middle\")\n            .text(\"College\")\n            .style(\"font-size\", \"1.5em\")\n            .style(\"color\", \"#1F4096\")\n\n        svg\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\"+margin+\", \"+(size[1]+marginTop)+\")\")\n            .call(d3.axisBottom(xScale))\n            .selectAll(\"text\")\t\n            .style(\"text-anchor\", \"end\")\n            .attr(\"dx\", \"-.8em\")\n            .attr(\"dy\", \".15em\")\n            .attr(\"transform\", \"rotate(-65)\");\n    }\n\n    return(\n        <div className=\"chart\">\n            <svg ref={ref}>\n            </svg>\n        </div>\n    )\n}","import React, { useRef, useEffect} from 'react';\nimport {scaleLinear} from 'd3-scale';\nimport '../Barchart.css';\nimport * as d3 from \"d3\";\n\nfunction StudentClass({data, size, handleTool, handleToolOff}){\n    const ref = useRef();\n\n    useEffect(() => {\n        const svg = d3.select(ref.current)\n            .attr(\"width\", size[0])\n            .attr(\"height\", size[1])\n    }, []);\n\n    useEffect(() => {\n        draw();\n    }, [data]);\n\n    const draw = () => {\n\n            const svg = d3.select(ref.current);\n            const margin = 125;\n            const marginTop = 50;\n            svg.attr(\"width\", size[0] + 2*margin)\n                .attr(\"height\", size[1] + 2*margin)\n            \n            \n            // console.log(studentsByMajor);\n            const dataMax = data.value.total;\n            \n            let selection = svg.append(\"g\")\n                .attr(\"transform\", \"translate(\"+margin+\",\"+marginTop+\")\")\n                .selectAll(\"rect\").data(Object.entries(data.value));\n            const yScale = scaleLinear()\n                .domain([0, dataMax])\n                .range([size[1], 0])\n            const xScale = d3.scaleBand()\n                .domain(d=>d.key)\n                .range([0,size[0]])\n            xScale.domain(Object.keys(data.value).map((d) => { return d; }));\n            var colorScale = scaleLinear()\n                .domain([0, Object.keys(data.value).length])\n                .range([\"#0455A4\",\"#E84A27\"])\n                .interpolate(d3.interpolateHcl);\n            const barWidth = size[0]/Object.keys(data.value).length;\n\n            selection\n                .enter()\n                .append(\"rect\")\n                .style(\"fill\", (d, i) => {\n                    return colorScale(i);\n                }) \n                .attr('x', (d, i) => i * barWidth)\n                .attr('y', (d) => yScale(parseInt(d[1], 10)))\n                .attr('height', d => size[1] - yScale(parseInt(d[1], 10)))\n                .attr('width', barWidth )\n                .on(\"mouseover\", (d, i) => {\n                    // console.log(d3.event);\n                    handleTool(d, i * barWidth, yScale(parseInt(d[1], 10)));\n                })\n                .on('mouseout', () => {\n                    handleToolOff();\n                })\n                .exit()\n                .remove()\n\n\n            svg\n                .append(\"g\")\n                .attr(\"transform\", \"translate(\"+margin+\",\"+marginTop+\")\")\n                .call(d3.axisLeft(yScale))\n            \n            svg.append(\"text\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"y\", 0 - margin.left)\n                .attr(\"x\",0 - (size[1] / 2))\n                .attr(\"dy\", \"1em\")\n                .style(\"text-anchor\", \"middle\")\n                .text(\"Students\")\n                .style(\"font-size\", \"1.5em\");   \n\n            svg.append(\"text\")\n                .attr(\"transform\",\n                \"translate(\" + (size[0]/2 + margin)+\",\"+(marginTop-30)+\")\")\n                .style(\"text-anchor\", \"middle\")\n                .text(\"Class\")\n                .style(\"font-size\", \"1.5em\")\n\n            svg\n                .append(\"g\")\n                .attr(\"transform\", \"translate(\"+margin+\", \"+(size[1]+marginTop)+\")\")\n                .call(d3.axisBottom(xScale))\n                .selectAll(\"text\")\t\n                .style(\"text-anchor\", \"end\")\n                .attr(\"dx\", \"-.8em\")\n                .attr(\"dy\", \".15em\")\n                .attr(\"transform\", \"rotate(-65)\");\n\n            selection\n                .exit()\n                .remove()\n\n    }\n\n    return(\n        <div className=\"chart\">\n            <svg ref={ref}>\n            </svg>\n        </div>\n    )\n}\n\nexport default StudentClass\n\n\n\n\n","import React, {Component, useEffect} from 'react';\nimport './App.css';\nimport * as d3 from \"d3\";\nimport Barchart from \"./Components/Barchart\";\nimport Tooltip from \"./Components/Tooltip\";\nimport data from './majordata.csv';\nimport { getDefaultNormalizer } from '@testing-library/react';\nimport CollegeChart from './Components/CollegeChart';\nimport StudentClass from './Components/StudentClass'\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: [],\n            hoveredBar: null,\n            x: 0,\n            y: 0,\n            dataByCollege: [],\n            collegeTotals: [],\n            page: 0,\n            home: true,\n            major: null\n        }\n        this.getData = this.getData.bind(this);\n        this.handleTool = this.handleTool.bind(this);\n        this.handleToolOff = this.handleToolOff.bind(this);\n        this.handleClickCollege = this.handleClickCollege.bind(this);\n        this.handleClickMajor = this.handleClickMajor.bind(this);\n    }\n\n    componentDidMount() {\n        this.getData()\n    };\n\n    getData(){\n        d3.csv(data).then(data => {\n            // console.log(data)\n            // console.log(data.length)\n            var index;\n            let begin = 0;\n            let nextState1 = [];\n            let nextState2 = [];\n            for(index = 0; index < data.length; index++ ) {\n                if(data[index].Concentration === \"***College total***\" ){\n                    nextState1.push(data.slice(begin, index))\n                    nextState2.push(data[index])\n                    index++;\n                    begin = index;\n                }\n                // console.log(data[index].Cocentration)\n            }\n            this.setState({dataByCollege: nextState1, collegeTotals: nextState2})\n            // console.log(nextState1)\n            // console.log(nextState2)\n            return data;\n        }).catch(function(err) {\n            throw err;\n        })\n    }\n\n    handleTool(datum, x, y){\n        this.setState({hoveredBar: datum, x: x, y: y})\n    }\n\n    handleToolOff(){\n        this.setState({hoveredBar: null})\n    }\n\n    handleClickCollege(index){\n        this.setState({home: false, page: index})\n    }\n\n    handleClickMajor(datum){\n        // console.log(datum);\n        this.setState({major: datum})\n    }\n\n    render() {\n        // console.log(this.state.data);\n        if(this.state.dataByCollege.length === 0)\n            return null;\n        let page = this.state.page;\n        let home = this.state.home;\n        let major = this.state.major;\n        let title = major ? major.key : this.state.collegeTotals[page].MajorName;\n        return (\n            <div className=\"App\">\n                <h2>{home ? `University of Illinois Urbana-Champaign Colleges`\n                    : title}</h2>\n                {!home ? <button onClick={() => this.setState({home: true, major: null}) } >Back Home</button> : null }\n                <div className=\"Figure\">\n                    \n                    {!home && !major ?\n                        <Barchart data={this.state.dataByCollege[page]} size={[1000, 500]} handleTool={this.handleTool} \n                        handleToolOff={this.handleToolOff} handleClickMajor={this.handleClickMajor} />\n                        : null\n                    }\n                    {home ?\n                        <CollegeChart data={this.state.collegeTotals} size={[1000, 500]} \n                        handleTool={this.handleTool} handleToolOff={this.handleToolOff} handleClickCollege={this.handleClickCollege} />\n                        : null\n                    }\n                    {major ? \n                        <StudentClass data={this.state.major} size={[1000, 500]} \n                        handleTool={this.handleTool} handleToolOff={this.handleToolOff}/> : null\n                    }\n                    \n                    { this.state.hoveredBar ?\n                        <Tooltip\n                            hoveredBar={this.state.hoveredBar}\n                            x={this.state.x}\n                            y={this.state.y}\n                        /> :\n                        null\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
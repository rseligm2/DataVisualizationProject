(this.webpackJsonpdatavizproj=this.webpackJsonpdatavizproj||[]).push([[0],{107:function(t,e,a){},152:function(t,e,a){t.exports=a.p+"static/media/majordata.3af28ac9.csv"},177:function(t,e,a){t.exports=a(460)},181:function(t,e,a){},182:function(t,e,a){},460:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),o=a(19),l=a.n(o),i=(a(181),a(150)),c=a(151),s=a(27),u=a(157),d=a(158),f=(a(182),a(2)),h=a(464);a(107);var m=function(t){var e=t.data,a=t.size,o=t.handleTool,l=t.handleToolOff,i=t.handleClickMajor,c=Object(n.useRef)();Object(n.useEffect)((function(){f.g(c.current).attr("width",a[0]).attr("height",a[1])}),[]),Object(n.useEffect)((function(){s()}),[e]);var s=function(){var t=f.g(c.current);t.attr("width",a[0]+250).attr("height",a[1]+250);var n=f.e().key((function(t){return t.MajorName})).rollup((function(t){return{total:f.h(t,(function(t){return t.TotalStudents})),freshmen:f.h(t,(function(t){return t.Freshman})),sophomore:f.h(t,(function(t){return t.Sophomore})),junior:f.h(t,(function(t){return t.Junior})),senior:f.h(t,(function(t){return t.Senior})),grad:f.h(t,(function(t){return t.TotalGrad}))}})).entries(e),r=Math.max.apply(Math,n.map((function(t){return t.value.total}))),s=t.append("g").attr("transform","translate(125,50)").selectAll("rect").data(n),u=Object(h.a)().domain([0,r]).range([a[1],0]),d=f.f().domain((function(t){return t.key})).range([0,a[0]]);d.domain(n.map((function(t){return t.key})));var m=Object(h.a)().domain([0,n.length]).range(["#0455A4","#E84A27"]).interpolate(f.d),p=a[0]/n.length;s.enter().append("rect").style("fill",(function(t,e){return m(e)})).style("cursor","pointer").attr("x",(function(t,e){return e*p})).attr("y",(function(t){return u(parseInt(t.value.total,10))})).attr("height",(function(t){return a[1]-u(parseInt(t.value.total,10))})).attr("width",p).on("mouseover",(function(t,e){o(t,e*p,u(parseInt(t.value.total,10)))})).on("mouseout",(function(){l()})).on("click",(function(t){i(t)})).exit().remove(),t.append("g").attr("transform","translate(125,50)").call(f.b(u)),t.append("text").attr("transform","rotate(-90)").attr("y",0-125..left).attr("x",0-a[1]/2).attr("dy","1em").style("text-anchor","middle").text("Students").style("font-size","1.5em"),t.append("text").attr("transform","translate("+(a[0]/2+125)+",20)").style("text-anchor","middle").text("Major").style("font-size","1.5em"),t.append("g").attr("transform","translate(125, "+(a[1]+50)+")").call(f.a(d)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),s.exit().remove()};return r.a.createElement("div",{className:"chart"},r.a.createElement("svg",{ref:c}))};function p(t){var e=t.hoveredBar,a=t.x,n=t.y,o={left:"".concat(a+150,"px"),top:"".concat(n+40,"px"),position:"absolute",fontSize:"12px",border:"1px solid #6F257F",background:"#ffffff",width:"10%"},l=e.key?e.key:e.MajorName,i=e.value?e.value.total:e.TotalStudents;return Array.isArray(e)&&(l=e[0],i=e[1]),r.a.createElement("div",{className:"Tooltip",style:o},r.a.createElement("p",null,l),r.a.createElement("p",null,"Students: ",i))}var g=a(152),v=a.n(g);a(183);function y(t){var e=Object(n.useRef)();Object(n.useEffect)((function(){f.g(e.current).attr("width",t.size[0]).attr("height",t.size[1])}),[]),Object(n.useEffect)((function(){a()}),[t.data]);var a=function(){var a=f.g(e.current),n=t.size;a.attr("width",n[0]+250).attr("height",n[1]+250);var r=Math.max.apply(Math,t.data.map((function(t){return t.TotalStudents}))),o=a.append("g").attr("transform","translate(125,50)").selectAll("rect").data(t.data),l=Object(h.a)().domain([0,r]).range([n[1],0]),i=f.f().domain((function(t){return t.key})).range([0,n[0]]);i.domain(t.data.map((function(t){return t.MajorName})));var c=Object(h.a)().domain([0,t.data.length]).range(["#13294b","#E84A27"]).interpolate(f.d),s=n[0]/t.data.length;o.enter().append("rect").style("fill",(function(t,e){return c(e)})).style("cursor","pointer").attr("x",(function(t,e){return e*s})).attr("y",(function(t){return l(parseInt(t.TotalStudents,10))})).attr("height",(function(t){return n[1]-l(parseInt(t.TotalStudents,10))})).attr("width",s).on("mouseover",(function(e,a){t.handleTool(e,a*s,l(parseInt(e.TotalStudents,10)))})).on("mouseout",(function(){t.handleToolOff()})).on("click",(function(e,a){t.handleToolOff(),t.handleClickCollege(a)})).exit().remove(),a.append("g").attr("transform","translate(125,50)").call(f.b(l)),a.append("text").attr("transform","rotate(-90)").attr("y",31.25).attr("x",0-n[1]/2).attr("dy","1em").style("text-anchor","middle").text("Students").style("font-size","1.5em"),a.append("text").attr("transform","translate("+(n[0]/2+125)+",20)").style("text-anchor","middle").text("College").style("font-size","1.5em").style("color","#1F4096"),a.append("g").attr("transform","translate(125, "+(n[1]+50)+")").call(f.a(i)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)")};return r.a.createElement("div",{className:"chart"},r.a.createElement("svg",{ref:e}))}var x=function(t){var e=t.data,a=t.size,o=t.handleTool,l=t.handleToolOff,i=Object(n.useRef)();Object(n.useEffect)((function(){f.g(i.current).attr("width",a[0]).attr("height",a[1])}),[]),Object(n.useEffect)((function(){c()}),[e]);var c=function(){var t=f.g(i.current);t.attr("width",a[0]+250).attr("height",a[1]+250);var n=e.value.total,r=t.append("g").attr("transform","translate(125,50)").selectAll("rect").data(Object.entries(e.value)),c=Object(h.a)().domain([0,n]).range([a[1],0]),s=f.f().domain((function(t){return t.key})).range([0,a[0]]);s.domain(Object.keys(e.value).map((function(t){return t})));var u=Object(h.a)().domain([0,Object.keys(e.value).length]).range(["#0455A4","#E84A27"]).interpolate(f.d),d=a[0]/Object.keys(e.value).length;r.enter().append("rect").style("fill",(function(t,e){return u(e)})).attr("x",(function(t,e){return e*d})).attr("y",(function(t){return c(parseInt(t[1],10))})).attr("height",(function(t){return a[1]-c(parseInt(t[1],10))})).attr("width",d).on("mouseover",(function(t,e){o(t,e*d,c(parseInt(t[1],10)))})).on("mouseout",(function(){l()})).exit().remove(),t.append("g").attr("transform","translate(125,50)").call(f.b(c)),t.append("text").attr("transform","rotate(-90)").attr("y",0-125..left).attr("x",0-a[1]/2).attr("dy","1em").style("text-anchor","middle").text("Students").style("font-size","1.5em"),t.append("text").attr("transform","translate("+(a[0]/2+125)+",20)").style("text-anchor","middle").text("Class").style("font-size","1.5em"),t.append("g").attr("transform","translate(125, "+(a[1]+50)+")").call(f.a(s)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),r.exit().remove()};return r.a.createElement("div",{className:"chart"},r.a.createElement("svg",{ref:i}))},j=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={data:[],hoveredBar:null,x:0,y:0,dataByCollege:[],collegeTotals:[],page:0,home:!0,major:null},n.getData=n.getData.bind(Object(s.a)(n)),n.handleTool=n.handleTool.bind(Object(s.a)(n)),n.handleToolOff=n.handleToolOff.bind(Object(s.a)(n)),n.handleClickCollege=n.handleClickCollege.bind(Object(s.a)(n)),n.handleClickMajor=n.handleClickMajor.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var t=this;f.c(v.a).then((function(e){var a,n=0,r=[],o=[];for(a=0;a<e.length;a++)"***College total***"===e[a].Concentration&&(r.push(e.slice(n,a)),o.push(e[a]),n=++a);return t.setState({dataByCollege:r,collegeTotals:o}),e})).catch((function(t){throw t}))}},{key:"handleTool",value:function(t,e,a){this.setState({hoveredBar:t,x:e,y:a})}},{key:"handleToolOff",value:function(){this.setState({hoveredBar:null})}},{key:"handleClickCollege",value:function(t){this.setState({home:!1,page:t})}},{key:"handleClickMajor",value:function(t){this.setState({major:t})}},{key:"render",value:function(){var t=this;if(0===this.state.dataByCollege.length)return null;var e=this.state.page,a=this.state.home,n=this.state.major,o=n?n.key:this.state.collegeTotals[e].MajorName;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,a?"University of Illinois Urbana-Champaign Colleges":o),a?null:r.a.createElement("button",{onClick:function(){return t.setState({home:!0,major:null})}},"Back Home"),r.a.createElement("div",{className:"Figure"},a||n?null:r.a.createElement(m,{data:this.state.dataByCollege[e],size:[1e3,500],handleTool:this.handleTool,handleToolOff:this.handleToolOff,handleClickMajor:this.handleClickMajor}),a?r.a.createElement(y,{data:this.state.collegeTotals,size:[1e3,500],handleTool:this.handleTool,handleToolOff:this.handleToolOff,handleClickCollege:this.handleClickCollege}):null,n?r.a.createElement(x,{data:this.state.major,size:[1e3,500],handleTool:this.handleTool,handleToolOff:this.handleToolOff}):null,this.state.hoveredBar?r.a.createElement(p,{hoveredBar:this.state.hoveredBar,x:this.state.x,y:this.state.y}):null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.65fa7d13.chunk.js.map